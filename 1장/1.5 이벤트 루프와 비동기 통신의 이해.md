# 🔄 이벤트 루프와 비동기 통신의 이해

## ⚡ 자바스크립트의 특징

- 싱글 스레드로 작동
- 기본적으로 한 번에 하나의 작업만 동기적으로 처리
- 하지만 실제로는 비동기 작업도 처리 가능

## 💻 프로세스와 스레드

### 프로세스(Process)

- 프로그램이 메모리상에서 실행되는 작업 단위
- 하나의 프로그램 실행 = 하나의 프로세스

### 스레드(Thread)

- 하나의 프로세스 내에서 생성 가능한 더 작은 실행 단위
- 여러 스레드가 메모리를 공유하며 동시 작업 가능

## ⏱️ 비동기 처리 예제

```javascript
console.log("1");
setTimeout(() => {
  console.log("2");
}, 0);
setTimeout(() => {
  console.log("3");
}, 1000);
console.log("4");

// 실행 결과: 1 -> 4 -> 2 -> 3
```

## 🔄 이벤트 루프 상세 이해

### 이벤트 루프의 핵심 역할

- 자바스크립트의 동시성(Concurrency)을 관리
- 호출 스택과 태스크 큐를 지속적으로 모니터링
- 호출 스택이 비어있을 때만 태스크 큐의 작업을 호출 스택으로 이동

### 🏗️ 실행 구조

1. 📚 호출 스택(Call Stack)

   - 자바스크립트 코드 실행의 핵심 메커니즘
   - 현재 실행 중인 함수들을 순차적으로 쌓아두는 곳
   - 동기적으로 실행되는 코드가 저장되는 공간
   - LIFO(Last In First Out) 방식으로 작동

2. 📋 태스크 큐(Task Queue) 시스템

   - 매크로 태스크 큐(Macro Task Queue)

     - setTimeout, setInterval
     - 이벤트 리스너
     - UI 렌더링
     - requestAnimationFrame

   - 마이크로 태스크 큐(Micro Task Queue)
     - Promise의 then/catch/finally 핸들러
     - process.nextTick
     - queueMicrotask
     - MutationObserver
     - 마이크로 태스크는 매크로 태스크보다 우선 처리됨

### ⚡ 실행 순서

1. 호출 스택의 모든 작업 실행
2. 마이크로 태스크 큐의 모든 작업 실행
3. 렌더링 작업 수행 (필요한 경우)
4. 매크로 태스크 큐의 작업을 하나씩 실행
5. 위 과정을 계속 반복

### 🎨 브라우저 렌더링과의 관계

- 렌더링은 마이크로 태스크 큐와 매크로 태스크 큐 사이에서 발생
- 렌더링 시점:
  1. 마이크로 태스크 큐가 비었을 때
  2. 매크로 태스크를 실행하기 전
  3. 브라우저가 렌더링이 필요하다고 판단할 때
