# ğŸ” useImperativeHandle

ì‹¤ì œ ê°œë°œ ê³¼ì •ì—ì„œëŠ” ìì£¼ ë³¼ ìˆ˜ ì—†ëŠ” í›…
useImperativeHandleì„ ì´í•´í•˜ê¸° ìœ„í•´ì„œëŠ” ë¨¼ì € React.forwardRefë¥¼ ì´í•´í•´ì•¼ í•œë‹¤.
(ë¦¬ì•¡íŠ¸19ì—ì„œ forwardRef ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ì–´ì¡Œì§€ë§Œ ì •ë¦¬ëŠ” í•˜ê¸°ë¡œ)

###### forwardRef

refëŠ” useRefì—ì„œ ë°˜í™˜í•œ ê°ì²´ë¡œ, ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ì˜ propsì¸ refë¥¼ ë„£ì–´ HTMLElementì— ì ‘ê·¼í•˜ëŠ” ìš©ë„ë¡œ í”íˆ ì‚¬ìš©
keyì™€ ë§ˆì°¬ê°€ì§€ë¡œ refë„ ë¦¬ì•¡íŠ¸ì—ì„œ ì»´í¬ë„ŒíŠ¸ì˜ propsë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì˜ˆì•½ì–´ë¡œì„œ ë³„ë„ë¡œ ì„ ì–¸ë¼ ìˆì§€ ì•Šì•„ë„ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ
refë¥¼ ì „ë‹¬í•˜ëŠ”ë° ìˆì–´ì„œ ì¼ê´€ì„±ì„ ì œê³µí•˜ê¸° ìœ„í•´

###### useImperativeHandleì´ë€?

useImperativeHandleì€ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ ìì‹ ì»´í¬ë„ŒíŠ¸ì˜ refë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” í›…

```jsx
const Input = forwardRef((props, ref) => {
  // useImperativeHandleì„ ì‚¬ìš©í•˜ë©´ refì˜ ë™ì‘ì„ ì¶”ê°€ë¡œ ì •ì˜í•  ìˆ˜ ìˆë‹¤.
  useImperativeHandle(
    ref,
    () => ({
      alert: () => {
        alert(props.value);
      },
    }),
    // useEffectì˜ depsì™€ ê°™ë‹¤.
    [props.value]
  );

  return <input ref={ref} {...props} />;
});

function App() {
  // inputì— ì‚¬ìš©í•  ref
  const inputRef = useRef();
  // inputì˜ value
  const [text, setText] = useState("");

  function handleClick() {
    // inputRefì— ì¶”ê°€í•œ alertë¼ëŠ” ë™ì‘ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
    inputRef.current.alert();
  }

  function handleChange(e) {
    setText(e.target.value);
  }

  return (
    <div>
      <Input value={text} onChange={handleChange} />
      <button onClick={handleClick}>Focus</button>
    </div>
  );
}
```

useImperativeHandleì„ ì‚¬ìš©í•˜ë©´ refì˜ ë™ì‘ì„ ì¶”ê°€ë¡œ ì •ì˜í•  ìˆ˜ ìˆë‹¤.
